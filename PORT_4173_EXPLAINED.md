# 🌐 端口 4173 预览服务器详解

## 🎯 **核心作用**

`http://localhost:4173` 是 **生产环境预览服务器**，用于在本地测试最终的构建结果。

## 📊 **两个服务器对比**

| 特性 | 开发服务器 (3000) | 预览服务器 (4173) |
|------|------------------|------------------|
| **用途** | 日常开发编码 | 发布前最终测试 |
| **数据源** | `src/` 源文件 | `dist/` 构建文件 |
| **热重载** | ✅ 实时更新 | ❌ 需重新构建 |
| **代码压缩** | ❌ 原始代码 | ✅ 已压缩优化 |
| **性能** | 开发模式 | 生产模式 |
| **调试信息** | ✅ 完整 | ❌ 已移除 |
| **加载速度** | 较慢 | 快速 |

## 🔄 **开发流程**

```mermaid
graph LR
    A[编写代码] --> B[localhost:3000<br/>实时预览]
    B --> C[功能完成]
    C --> D[npm run build<br/>构建项目]
    D --> E[localhost:4173<br/>最终测试]
    E --> F[GitHub Pages<br/>正式发布]
```

## 🎭 **使用场景**

### 🔥 **开发阶段 (port 3000)**
```bash
npm run dev
# 访问: http://localhost:3000
```
- ✨ **修改代码** → 浏览器立即更新
- 🎨 **调整样式** → 实时看到效果  
- 🐛 **调试错误** → 完整错误信息
- 🔍 **开发工具** → 源码映射可用

### 🔍 **测试阶段 (port 4173)**
```bash
npm run build    # 先构建
npm run preview  # 再预览
# 访问: http://localhost:4173
```
- ⚡ **性能检查** → 真实加载速度
- 🎯 **功能验证** → 压缩后是否正常
- 📱 **兼容性测试** → 各种设备表现
- 🚀 **部署预览** → 与线上完全一致

## 🎯 **实际建议**

### 📅 **日常工作流**
1. **开发时**: 只使用 `npm run dev` (port 3000)
2. **完成功能后**: 运行 `npm run build && npm run preview` (port 4173)
3. **验证无误后**: 部署到 GitHub Pages

### ⚠️ **重要注意**
- **port 4173 需要先构建**: 必须运行 `npm run build` 后才能预览
- **无热重载**: 修改代码后需要重新构建才能看到变化
- **真实性能**: 显示的是用户最终看到的效果

## 🔧 **故障排除**

如果 port 4173 显示 "Cannot GET /":
1. 确保先运行了 `npm run build`
2. 检查 `dist/` 目录是否存在
3. 确认 `vite.config.js` 配置正确

## 💡 **类比理解**

想象你在制作一道菜：

- **port 3000** = 厨房试吃（随时调味，实时品尝）
- **port 4173** = 上菜前检查（最终摆盘，确认完美）  
- **GitHub Pages** = 端给客人（正式上桌）

**🎉 所以 port 4173 就是你的"最终检查站"！**
